---
- name: ensure vundle
  shell: git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
  args:
    creates: ~/.vim/bundle/Vundle.vim

- name: vim +PluginInstall
  shell: /usr/local/bin/vim +PluginInstall +qall
  args:
    creates: ~/.vim/bundle/YouCompleteMe/README.md

- name: YCM libraries
  shell: ./install.sh
  args:
    chdir: ~/.vim/bundle/YouCompleteMe/
    creates: ~/.vim/bundle/YouCompleteMe/third_party/ycmd/third_party/cregex/regex_2/_regex.so

- name: oh-my-zsh
  shell: sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)" && ln -sf ~/.zshrc.pre-oh-my-zsh ~/.zshrc
  args:
    creates: ~/.oh-my-zsh/oh-my-zsh.sh
